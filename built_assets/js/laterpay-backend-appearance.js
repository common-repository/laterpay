!function(c){c(function(){var s,o,t,e,r,a,n,l,i,_;s={savePurchaseForm:c(".lp_js_savePurchaseForm"),cancelFormEdit:c(".lp_js_cancelEditingPurchaseForm"),restoreDefaults:c(".lp_js_restoreDefaultPurchaseForm"),buttonGroupButtons:".lp_js_buttonGroupButton",buttonGroupHint:".lp_js_buttonGroupHint",overlayOptions:".lp_js_overlayOptions",overlayShowFooter:".lp_js_overlayShowFooter",selected:"lp_is-selected",showHintOnTrue:"lp_js_showHintOnTrue",headerBgColor:"lp_js_purchaseHeaderBackgroundColor",headerTitle:"lp_js_purchaseHeaderTitle",purchaseBgColor:"lp_js_purchaseBackgroundColor",purchaseMainText:"lp_js_purchaseMainTextColor",purchaseDescription:"lp_js_purchaseDescriptionTextColor",buttonBgColor:"lp_js_purchaseButtonBackgroundColor",buttonHoverColor:"lp_js_purchaseButtonHoverColor",buttonHoverTextColor:"lp_js_purchaseButtonHoverTextColor",buttonTextColor:"lp_js_purchaseButtonTextColor",linkMainColor:"lp_js_purchaseLinkMainColor",linkHoverColor:"lp_js_purchaseLinkHoverColor",footerBgColor:"lp_js_purchaseFooterBackgroundColor",showFooter:"lp_js_overlayShowFooter",overlayHeader:".lp_purchase-overlay__header",overlayForm:".lp_purchase-overlay__form",overlayOptionTitle:".lp_purchase-overlay-option__title",overlayDescription:".lp_purchase-overlay-option__description",overlayLink:".lp_purchase-overlay__notification",overlayButton:".lp_purchase-overlay__submit",overlayFooter:".lp_purchase-overlay__footer",previewSwitch:c("#lp_js_paidContentPreview").find(".lp_js_switchButtonGroup"),purchaseForm:c("#lp_js_purchaseForm"),purchaseButtonForm:c("#lp_js_purchaseButton"),purchaseButtonSwitch:c("#lp_js_purchaseButton").find(".lp_js_switchButtonGroup"),timePassesForm:c("#lp_js_timePasses"),timePassesSwitch:c("#lp_js_timePasses").find(".lp_js_switchButtonGroup"),appearance_loading:c("#lp_appearance_loading"),appearance_preview:c("#lp_appearance_preview"),show_purchase_button:c("#lp_show_purchase_button_above_article"),purchase_button_custom:c("#lp_purchase_button_custom_positioned"),purchase_button_hint:c("#lp_purchase_button_hint"),backend_purchase_button:c("#lp_backend_purchase_button"),show_purchase_overlay:c("#lp_show_purchase_overlay"),purchase_overlay:c("#lp_purchase_overlay"),overlay_body:c("#lp_overlay_body"),purchase_link:c("#lp_purchase_link"),explanatory_button:c("#lp_explanatory_button"),timePassWidget:c("#lp_js_timePassWidget"),timepass_widget_hint:c("#lp_timepass_widget_hint"),section_header_text:c("#lp_header_text"),purchase_header:c("#lp_purchase_header"),show_introduction:c("#lp_show_introduction"),benefits_section:c("#lp_benefits"),benefits_list:c("#lp_benefits_list"),show_tp_sub_below_modal:c("#lp_show_tp_sub_below_modal"),tp_sub_custom_positioned:c("#lp_is_tp_sub_custom_positioned"),show_body_text:c("#lp_show_body_text"),body_text_content:c("#lp_body_text_content"),body_text_content_holder:c("#lp_body_text_content_holder"),show_footer:c("#lp_show_footer"),overlay_footer:c("#lp_overlay_footer"),savePurchaseFormColors:c(".lp_js_savePurchaseFormColors"),overlayLinkNotification:c(".lp_bought_notification"),lp_purchase_button:c(".lp_purchase_button"),lp_purchase_button_tp:c(".lp_purchase-button"),navigation:c(".lp_navigation"),flip:c("a.lp_js_flipTimePass, a.lp_js_flipSubscription"),config_disclaimer:c("#lp_config_disclaimer")},o=function(){var o=!1;if(s.show_purchase_button.prop("checked")||s.show_purchase_overlay.prop("checked")||s.show_tp_sub_below_modal.prop("checked")?!s.show_purchase_button.prop("checked")||s.show_purchase_overlay.prop("checked")||s.show_tp_sub_below_modal.prop("checked")||(o=!0,s.show_purchase_button.removeClass("recommended_option"),s.show_purchase_overlay.addClass("recommended_option"),s.show_tp_sub_below_modal.addClass("recommended_option")):(o=!0,s.show_purchase_button.addClass("recommended_option"),s.show_purchase_overlay.addClass("recommended_option"),s.show_tp_sub_below_modal.addClass("recommended_option")),o)return s.navigation.showMessage(lpVars.invalidConfigError,!1),s.savePurchaseForm.attr("disabled",!0),void s.config_disclaimer.show();s.show_purchase_button.removeClass("recommended_option"),s.show_purchase_overlay.removeClass("recommended_option"),s.show_tp_sub_below_modal.removeClass("recommended_option"),s.savePurchaseForm.attr("disabled",!1),s.config_disclaimer.hide()},t=function(o){var t=o.parents("form");switch(c(s.buttonGroupButtons,t).removeClass(s.selected),o.parent(s.buttonGroupButtons).addClass(s.selected),c("input:checked",t).val()){case"0":t.find(s.buttonGroupHint).fadeOut();break;case"1":t.find(s.buttonGroupHint).fadeIn()}l(t)},e=function(o){var t=o.parents("form");switch(c(s.buttonGroupButtons,t).removeClass(s.selected),o.parent(s.buttonGroupButtons).addClass(s.selected),c("input:checked",t).val()){case"0":t.find(s.buttonGroupHint).fadeOut();break;case"1":t.find(s.buttonGroupHint).fadeIn()}l(t)},r=function(o){var t,e,r,a,n;o.hasClass(s.headerBgColor)&&(a="background-color: "+c("."+s.headerBgColor).val()+" !important;",i(s.overlayHeader,a)),o.hasClass(s.headerTitle)&&c(s.overlayHeader).text(c("."+s.headerTitle).val()),o.hasClass(s.purchaseBgColor)&&(a="background-color: "+c("."+s.purchaseBgColor).val()+" !important;",i(c(s.overlayForm),a)),o.hasClass(s.purchaseMainText)&&(a="color: "+c("."+s.purchaseMainText).val()+" !important;",i(c(s.overlayOptionTitle),a)),o.hasClass(s.purchaseDescription)&&(a="color: "+c("."+s.purchaseDescription).val()+" !important;",i(c(s.overlayDescription),a)),o.hasClass(s.buttonBgColor)&&(e="color:"+c("."+s.buttonTextColor).val()+" !important;",r=c("."+s.buttonBgColor).val(),a="background-color: "+r+" !important;",i(c(s.overlayButton),a+e),i(c(s.lp_purchase_button),a+e),i(c(s.lp_purchase_button_tp),a+e),s.flip.length&&(t="color:"+r+" !important;",i(s.flip,t))),o.hasClass(s.buttonTextColor)&&(n="background-color:"+c("."+s.buttonBgColor).val()+" !important;",a="color: "+c("."+s.buttonTextColor).val()+" !important;",i(c(s.overlayButton),a+n),i(c(s.lp_purchase_button),a+n),i(c(s.lp_purchase_button_tp),a+n)),o.hasClass(s.buttonHoverColor)&&(c(s.overlayButton).hover(function(){t="color:"+c("."+s.buttonHoverTextColor).val()+" !important;",a="background-color: "+c("."+s.buttonHoverColor).val()+" !important;",i(c(s.overlayButton),a+t)},function(){t="color:"+c("."+s.buttonTextColor).val()+" !important;",a="background-color: "+c("."+s.buttonBgColor).val()+" !important;",i(c(s.overlayButton),a+t)}),c(s.lp_purchase_button).hover(function(){t="color:"+c("."+s.buttonHoverTextColor).val()+" !important;",a="background-color: "+c("."+s.buttonHoverColor).val()+" !important;",i(c(s.lp_purchase_button),a+t)},function(){t="color:"+c("."+s.buttonTextColor).val()+" !important;",a="background-color: "+c("."+s.buttonBgColor).val()+" !important;",i(c(s.lp_purchase_button),a+t)}),c(s.lp_purchase_button_tp).hover(function(){t="color:"+c("."+s.buttonHoverTextColor).val()+" !important;",a="background-color: "+c("."+s.buttonHoverColor).val()+" !important;",i(c(s.lp_purchase_button_tp),a+t)},function(){t="color:"+c("."+s.buttonTextColor).val()+" !important;",a="background-color: "+c("."+s.buttonBgColor).val()+" !important;",i(c(s.lp_purchase_button_tp),a+t)})),o.hasClass(s.buttonHoverTextColor)&&(c(s.overlayButton).hover(function(){t="color:"+c("."+s.buttonHoverTextColor).val()+" !important;",a="background-color: "+c("."+s.buttonHoverColor).val()+" !important;",i(c(s.overlayButton),a+t)},function(){t="color:"+c("."+s.buttonTextColor).val()+" !important;",a="background-color: "+c("."+s.buttonBgColor).val()+" !important;",i(c(s.overlayButton),a+t)}),c(s.lp_purchase_button).hover(function(){t="color:"+c("."+s.buttonHoverTextColor).val()+" !important;",a="background-color: "+c("."+s.buttonHoverColor).val()+" !important;",i(c(s.lp_purchase_button),a+t)},function(){t="color:"+c("."+s.buttonTextColor).val()+" !important;",a="background-color: "+c("."+s.buttonBgColor).val()+" !important;",i(c(s.lp_purchase_button),a+t)}),c(s.lp_purchase_button_tp).hover(function(){t="color:"+c("."+s.buttonHoverTextColor).val()+" !important;",a="background-color: "+c("."+s.buttonHoverColor).val()+" !important;",i(c(s.lp_purchase_button_tp),a+t)},function(){t="color:"+c("."+s.buttonTextColor).val()+" !important;",a="background-color: "+c("."+s.buttonBgColor).val()+" !important;",i(c(s.lp_purchase_button_tp),a+t)})),o.hasClass(s.linkMainColor)&&(a="color: "+c("."+s.linkMainColor).val()+" !important;",i(c(s.overlayLink+" a"),a),i(c(s.overlayLink),a),c(s.overlayLinkNotification).length&&i(c(s.overlayLinkNotification),a)),o.hasClass(s.linkHoverColor)&&(c(s.overlayLink+" a").hover(function(){a="color: "+c("."+s.linkHoverColor).val()+" !important;",i(c(s.overlayLink+" a"),a)},function(){a="color: "+c("."+s.linkMainColor).val()+" !important;",i(c(s.overlayLink+" a"),a)}),c(s.overlayLinkNotification).hover(function(){a="color: "+c("."+s.linkHoverColor).val()+" !important;",i(c(s.overlayLinkNotification),a)},function(){a="color: "+c("."+s.linkMainColor).val()+" !important;",i(c(s.overlayLinkNotification),a)})),o.hasClass(s.footerBgColor)&&(a="background-color: "+c("."+s.footerBgColor).val()+" !important;",c(s.overlayFooter).is(":hidden")&&(a+="display: none;"),i(c(s.overlayFooter),a))},a=function(o){c(o).parents(".lp_time-pass").toggleClass("lp_is-flipped")},n=function(o){o.is(":checked")?c(s.overlayFooter).show():c(s.overlayFooter).hide()},l=function(o){c.post(ajaxurl,o.serializeArray(),function(o){c(".lp_navigation").showMessage(o)})},i=function(o,t){c(o).attr("style",t)},_=function(o){c("."+s.headerBgColor).val(o.header_bg_color).change(),c("."+s.headerTitle).val(o.header_title).change(),c("."+s.purchaseBgColor).val(o.main_bg_color).change(),c("."+s.purchaseMainText).val(o.main_text_color).change(),c("."+s.purchaseDescription).val(o.description_color).change(),c("."+s.buttonBgColor).val(o.button_bg_color).change(),c("."+s.buttonHoverColor).val(o.button_hover_color).change(),c("."+s.buttonHoverTextColor).val(o.button_hover_text_color).change(),c("."+s.buttonTextColor).val(o.button_text_color).change(),c("."+s.linkMainColor).val(o.link_main_color).change(),c("."+s.linkHoverColor).val(o.link_hover_color).change(),c("."+s.footerBgColor).val(o.footer_bg_color).change(),!0===o.show_footer?c("."+s.showFooter).attr("checked","checked"):c("."+s.showFooter).removeAttr("checked")},s.flip.on("click",function(o){o.preventDefault(),a(this)}),s.purchaseButtonSwitch.click(function(){t(c(this))}),s.timePassesSwitch.click(function(){e(c(this))}),c(s.overlayOptions).change(function(){r(c(this))}),c(s.overlayShowFooter).click(function(){n(c(this))}),s.savePurchaseForm.click(function(o){o.preventDefault();var t=c(this).parents("form");c("input[name=form]",t).val("appearance_config");var r={lp_show_purchase_button_above_article:"Purchase Button",lp_purchase_button_custom_positioned:"Purchase Button Custom Position",lp_show_purchase_overlay:"Purchase Overlay",lp_show_introduction:"LP Intro",lp_show_tp_sub_below_modal:"TP & Sub Outside Overlay",lp_is_tp_sub_custom_positioned:"TP & Sub Custom Position",lp_show_body_text:"Custom HTML",lp_show_footer:"Footer"};c('input[type="checkbox"]').each(function(){var o,t,e=r[c(this).attr("id")];void 0!==e&&(o=lpVars.gaData.sandbox_merchant_id+" | "+e,t=c(this).prop("checked")?1:0,lpGlobal.sendLPGAEvent("Update Appearance","LP WP Appearance",o,t))}),lpGlobal.sendLPGAEvent("Update Colors","LP WP Appearance",lpVars.gaData.sandbox_merchant_id),l(t)}),s.savePurchaseFormColors.click(function(o){o.preventDefault();var t=c(this).parents("form");c("input[name=form]",t).val("overlay_settings"),l(t)}),s.cancelFormEdit.click(function(o){o.preventDefault(),_(lpVars.overlaySettings.current)}),s.restoreDefaults.click(function(o){o.preventDefault(),_(lpVars.overlaySettings.default)}),s.show_purchase_button.change(function(){c(this).prop("checked")?(c(this).val(1),s.purchase_button_custom.parent().show(),s.backend_purchase_button.show()):(c(this).val(0),s.purchase_button_custom.parent().hide(),s.backend_purchase_button.hide()),c(this).prop("checked")&&s.purchase_button_custom.prop("checked")?s.purchase_button_hint.show():s.purchase_button_hint.hide(),o()}),s.purchase_button_custom.change(function(){c(this).prop("checked")?(c(this).val(1),s.purchase_button_hint.show()):(c(this).val(0),s.purchase_button_hint.hide())}),s.show_purchase_overlay.change(function(){c(this).prop("checked")?(c(this).val(1),s.purchase_overlay.show(),s.purchase_header.parent().css("visibility","visible"),s.show_introduction.parent().css("visibility","visible"),s.show_body_text.parent().css("visibility","visible"),s.show_footer.parent().css("visibility","visible")):(c(this).val(0),s.purchase_overlay.hide(),s.purchase_header.parent().css("visibility","hidden"),s.show_introduction.parent().css("visibility","hidden"),s.show_body_text.parent().css("visibility","hidden"),s.show_footer.parent().css("visibility","hidden")),o()}),s.purchase_header.on("change paste keyup",function(){s.section_header_text.text(c(this).val())}),s.show_introduction.change(function(){c(this).prop("checked")?(c(this).val(1),s.purchase_overlay.attr("style","min-height:500px !important"),s.benefits_section.show(),s.benefits_list.show()):(c(this).val(0),s.purchase_overlay.attr("style","min-height:330px !important"),s.benefits_list.hide())}),s.show_tp_sub_below_modal.change(function(){c(this).prop("checked")?(c(this).val(1),s.overlay_body.hide(),s.timePassWidget.show(),s.show_purchase_overlay.prop("checked")||s.purchase_link.show(),s.explanatory_button.show(),s.tp_sub_custom_positioned.parent().show(),s.tp_sub_custom_positioned.trigger("change")):(c(this).val(0),s.overlay_body.show(),s.timePassWidget.hide(),s.purchase_link.hide(),s.explanatory_button.hide(),s.tp_sub_custom_positioned.parent().hide(),s.timepass_widget_hint.hide()),o()}),s.show_body_text.change(function(){c(this).prop("checked")?(c(this).val(1),s.body_text_content_holder.empty().append(s.body_text_content.val()),s.body_text_content.show(),s.body_text_content_holder.show()):(c(this).val(0),s.body_text_content.hide(),s.body_text_content_holder.hide())}),s.body_text_content.on("change paste keyup",function(){s.body_text_content_holder.empty().append(c(this).val())}),s.show_footer.change(function(){c(this).prop("checked")?(c(this).val(1),s.overlay_footer.show()):(c(this).val(0),s.overlay_footer.hide())}),s.tp_sub_custom_positioned.change(function(){c(this).prop("checked")?(c(this).val(1),s.timepass_widget_hint.show()):(c(this).val(0),s.timepass_widget_hint.hide())}),s.show_purchase_button.trigger("change"),s.purchase_button_custom.trigger("change"),s.show_purchase_overlay.trigger("change"),s.purchase_header.trigger("change"),s.show_introduction.trigger("change"),s.show_tp_sub_below_modal.trigger("change"),s.show_body_text.trigger("change"),s.body_text_content_holder.trigger("change"),s.show_footer.trigger("change"),s.tp_sub_custom_positioned.trigger("change"),s.appearance_loading.fadeOut(500),s.appearance_preview.delay(500).fadeIn(800)})}(jQuery);