!function(z){z(function(){function c(e,t){var i=z(t).parents("form"),s=m.timepass;return z(i).hasClass(m.subscription.classes.editorForm)&&(s=m.subscription),e.id&&z(s.fields.categoryId,z(i)).val(e.id),z(s.fields.scopeCategory,z(i)).val(e.text),e.text}function f(e,i,s,t,a){var o;"subscription"===e&&Object.keys(i.data.list).length&&(o=!1,"delete"===t&&delete i.data.list[a],z.each(i.data.list,function(e){var t=i.data.list[e];void 0!==t&&t.hasOwnProperty("price")&&parseFloat(t.price)<1.99&&"us"===s&&(o=!0)}),!1===o&&z("div.lp_js_subscriptionPanelWarning").hide())}var m,a,t,p,r,e,l,i,s,o,n,d,u,_,v,h,b,g,y,P,j,D,w,C,E,k,x,O,I,S,V,T,M,L,F,A,G,W;m={body:z("body"),revenueModel:".lp_js_revenueModel",revenueModelLabel:".lp_js_revenueModelLabel",revenueModelLabelDisplay:".lp_js_revenueModelLabelDisplay",revenueModelInput:".lp_js_revenueModelInput",priceInput:".lp_js_priceInput",emptyState:".lp_js_emptyState",timePassOnlyHideElements:z(".lp_js_hideInTimePassOnlyMode"),globalDefaultPriceForm:z("#lp_js_globalDefaultPriceForm"),globalDefaultPriceInput:z("#lp_js_globalDefaultPriceInput"),globalDefaultPriceDisplay:z("#lp_js_globalDefaultPriceDisplay"),globalDefaultPriceRevenueModelDisplay:z("#lp_js_globalDefaultPriceRevenueModelDisplay"),editGlobalDefaultPrice:z("#lp_js_editGlobalDefaultPrice"),cancelEditingGlobalDefaultPrice:z("#lp_js_cancelEditingGlobalDefaultPrice"),saveGlobalDefaultPrice:z("#lp_js_saveGlobalDefaultPrice"),globalDefaultPriceShowElements:z("#lp_js_globalDefaultPriceShowElements"),globalDefaultPriceEditElements:z("#lp_js_globalDefaultPriceEditElements"),globalDefaultEditWrapper:".lp_globalEditSection",categoryDefaultPrices:z("#lp_js_categoryDefaultPriceList"),addCategory:z("#lp_js_addCategoryDefaultPrice"),categoryDefaultPriceTemplate:z("#lp_js_categoryDefaultPriceTemplate"),categoryDefaultPriceForm:".lp_js_categoryDefaultPriceForm",editCategoryDefaultPrice:".lp_js_editCategoryDefaultPrice",cancelEditingCategoryDefaultPrice:".lp_js_cancelEditingCategoryDefaultPrice",saveCategoryDefaultPrice:".lp_js_saveCategoryDefaultPrice",deleteCategoryDefaultPrice:".lp_js_deleteCategoryDefaultPrice",categoryDefaultPriceShowElements:".lp_js_categoryDefaultPriceShowElements",categoryDefaultPriceEditElements:".lp_js_categoryDefaultPriceEditElements",categoryTitle:".lp_js_categoryDefaultPriceCategoryTitle",categoryDefaultPriceDisplay:".lp_js_categoryDefaultPriceDisplay",selectCategory:".lp_js_selectCategory",categoryDefaultPriceInput:".lp_js_categoryDefaultPriceInput",categoryId:".lp_js_categoryDefaultPriceCategoryId",categoryName:".lp_js_categoryDefaultPriceCategorName",globalEnabledPostTypesForm:z("#lp_js_globalEnabledPostTypesForm"),saveEnabledPostTypes:z("#lp_js_saveEnabledPostTypes"),cancelEditingEnabledPostTypes:z("#lp_js_cancelEditingEnabledPostTypes"),globalEnabledPostTypeShowElements:z("#lp_js_globalEnabledPostTypeShowElements"),laterpayContentElements:z("#lp_js_laterpayContentElements"),editLaterPayEnabledContent:z("#lp_js_editLaterPayEnabledContent"),salableContentLabelInfo:z("#lp_js_salablePostInfo"),customizeOverlayOptionsForm:z("#lp_js_customizeOverlayOptionsForm"),saveOverlayCustomizeOptions:z("#lp_js_saveOverlayCustomizeOptions"),customizeOverlayShowElements:z("#lp_js_customizeOverlayShowElements"),customizeOverlayOptionsElements:z("#lp_js_customizeOverlayOptionsElements"),editCustomizeOverlayOptions:z("#lp_js_editCustomizeOverlayOptions"),cancelEditingOverlayOptions:z("#lp_js_cancelEditingOverlayCustomizeOptions"),pricing_option_order_label:z("#lp_js_pricing_option_order_label"),default_selection_label:z("#lp_js_default_selection_label"),timepass_selection_info:z("#lp_js_timepass_selection_info"),subscription_selection_info:z("#lp_js_subscription_selection_info"),overlay_default_selection:z('input[name="lp_overlay_default_selection"]'),timepass:{editor:z("#lp_time-passes"),template:z("#lp_js_timePassTemplate"),form:".lp_js_timePassEditorForm",editorContainer:".lp_js_timePassEditorContainer",id:".lp_js_timePassId",wrapper:".lp_js_timePassWrapper",categoryWrapper:".lp_js_timePassCategoryWrapper",fields:{duration:".lp_js_switchTimePassDuration",period:".lp_js_switchTimePassPeriod",scope:".lp_js_switchTimePassScope",scopeCategory:".lp_js_switchTimePassScopeCategory",categoryId:".lp_js_timePassCategoryId",title:".lp_js_timePassTitleInput",price:".lp_js_timePassPriceInput",revenueModel:".lp_js_timePassRevenueModelInput",description:".lp_js_timePassDescriptionTextarea"},classes:{form:"lp_js_timePassForm",editorForm:"lp_js_timePassEditorForm",durationClass:"lp_js_switchTimePassDuration",titleClass:"lp_js_timePassTitleInput",priceClass:"lp_js_timePassPriceInput",descriptionClass:"lp_js_timePassDescriptionTextarea",periodClass:"lp_js_switchTimePassPeriod",scopeClass:"lp_js_switchTimePassScope",scopeCategoryClass:"lp_js_switchTimePassScopeCategory"},preview:{placeholder:".lp_js_timePassPreview",wrapper:".lp_js_timePass",title:".lp_js_timePassPreviewTitle",description:".lp_js_timePassPreviewDescription",validity:".lp_js_timePassPreviewValidity",access:".lp_js_timePassPreviewAccess",price:".lp_js_timePassPreviewPrice"},actions:{create:z("#lp_js_addTimePass"),show:".lp_js_saveTimePass, .lp_js_cancelEditingTimePass",modify:".lp_js_editTimePass, .lp_js_deleteTimePass",save:".lp_js_saveTimePass",cancel:".lp_js_cancelEditingTimePass",delete:".lp_js_deleteTimePass",edit:".lp_js_editTimePass",flip:".lp_js_flipTimePass"},ajax:{form:{delete:"time_pass_delete"}},data:{id:"pass-id",list:lpVars.time_passes_list,vouchers:lpVars.vouchers_list,deleteConfirm:lpVars.i18n.confirmDeleteTimepass,fields:{id:"pass_id"}}},subscription:{editor:z("#lp_subscriptions"),template:z("#lp_js_subscriptionTemplate"),form:".lp_js_subscriptionEditorForm",editorContainer:".lp_js_subscriptionEditorContainer",id:".lp_js_subscriptionId",wrapper:".lp_js_subscriptionWrapper",categoryWrapper:".lp_js_subscriptionCategoryWrapper",fields:{duration:".lp_js_switchSubscriptionDuration",period:".lp_js_switchSubscriptionPeriod",scope:".lp_js_switchSubscriptionScope",scopeCategory:".lp_js_switchSubscriptionScopeCategory",categoryId:".lp_js_subscriptionCategoryId",title:".lp_js_subscriptionTitleInput",price:".lp_js_subscriptionPriceInput",description:".lp_js_subscriptionDescriptionTextarea"},classes:{form:"lp_js_subscriptionForm",editorForm:"lp_js_subscriptionEditorForm",durationClass:"lp_js_switchSubscriptionDuration",titleClass:"lp_js_subscriptionTitleInput",priceClass:"lp_js_subscriptionPriceInput",descriptionClass:"lp_js_subscriptionDescriptionTextarea",periodClass:"lp_js_switchSubscriptionPeriod",scopeClass:"lp_js_switchSubscriptionScope",scopeCategoryClass:"lp_js_switchSubscriptionScopeCategory"},preview:{placeholder:".lp_js_subscriptionPreview",wrapper:".lp_js_subscription",title:".lp_js_subscriptionPreviewTitle",description:".lp_js_subscriptionPreviewDescription",validity:".lp_js_subscriptionPreviewValidity",access:".lp_js_subscriptionPreviewAccess",price:".lp_js_subscriptionPreviewPrice",renewal:".lp_js_subscriptionPreviewRenewal"},actions:{create:z("#lp_js_addSubscription"),show:".lp_js_saveSubscription, .lp_js_cancelEditingSubscription",modify:".lp_js_editSubscription, .lp_js_deleteSubscription",save:".lp_js_saveSubscription",edit:".lp_js_editSubscription",cancel:".lp_js_cancelEditingSubscription",delete:".lp_js_deleteSubscription",flip:".lp_js_flipSubscription"},ajax:{form:{delete:"subscription_delete"}},data:{id:"sub-id",list:lpVars.subscriptions_list,vouchers:lpVars.sub_vouchers_list,deleteConfirm:lpVars.i18n.confirmDeleteSubscription,fields:{id:"id"}}},globalVouchers:{data:{vouchers:lpVars.global_vouchers_list}},voucherPriceInput:".lp_js_voucherPriceInput",voucherPriceInputSingle:".lp_js_voucherPriceInputSingle",generateVoucherCode:".lp_js_generateVoucherCode",voucherDeleteLink:".lp_js_deleteVoucher",voucherEditor:".lp_js_voucherEditor",voucherHiddenPassId:"#lp_js_timePassEditorHiddenPassId",voucherPlaceholder:".lp_js_voucherPlaceholder",voucherList:".lp_js_voucherList",voucher:".lp_js_voucher",editing:"lp_is-editing",unsaved:"lp_is-unsaved",payPerUse:"ppu",singleSale:"sis",selected:"lp_is-selected",disabled:"lp_is-disabled",hidden:"lp_hidden",navigation:z(".lp_navigation"),lp_make_post_free:z("#lp_make_post_free"),lp_disable_individual_purchase:z("#lp_disable_individual_purchase"),lp_set_inidvidual_price:z("#lp_set_individual_price"),lp_current_post_price_val:z('input[name="lp_current_post_price_val"]'),lp_global_price_section:z("#lp_js_globalPriceSection"),lp_global_revenue_section:z("#lp_js_globalRevenueSection"),lp_js_form_buttons_section:z("#lp_js_formButtons"),lp_js_globalPriceOptionZero:z("#lp_js_globalPriceOptionZero"),lp_js_globalPriceOptionOne:z("#lp_js_globalPriceOptionOne"),lp_js_globalPriceOptionTwo:z("#lp_js_globalPriceOptionTwo"),categoryButtonContainer:z("div.lp_js_categoryButtonContainer"),categoryPanelWarning:z("div.lp_js_categoryPanelWarning"),voucherCodeInput:z("input.lp_voucher__code")},a=function(e,t,i){var s=e.val();if(6!==s.length)return t.find(".lp_js_voucher_msg").text(lpVars.i18n.codeTooShort),t.find(".lp_js_voucher_msg").css("display","block"),t.find(".button-primary").attr("disabled","disabled"),void t.find(m.generateVoucherCode).attr("disabled","disabled");var a=m.globalVouchers.data.vouchers;"string"==typeof m.globalVouchers.data.vouchers&&(a=JSON.parse(m.globalVouchers.data.vouchers));var o,r,l=m.timepass,n=m.subscription,c=Object.keys(l.data.vouchers).length,p=Object.keys(n.data.vouchers).length,d=Object.keys(a[0]).length,u=!1;(c||p||d)&&(o=Object.values(l.data.vouchers),r=Object.values(n.data.vouchers),o.forEach(function(e){s in e&&(u=!0)}),r.forEach(function(e){s in e&&(u=!0)}),a.forEach(function(e){s in e&&(u=!0)}));var _=!1,v=!1;if("subscription"===i?_=!0:"global"===i&&(v=!0),_){if(!0===u)return t.find(".lp_js_voucher_msg").text(lpVars.i18n.voucherExists),z(m.subscription.actions.save).attr("disabled","disabled"),z(m.subscription.actions.save).removeAttr("href"),void t.find(".lp_js_voucher_msg").css("display","block");z(m.subscription.actions.save).removeAttr("disabled"),t.find(m.generateVoucherCode).removeAttr("disabled"),z(m.subscription.actions.save).attr("href","javascript:void(0);")}else if(v){if(!0===u)return t.find(".lp_js_voucher_msg").text(lpVars.i18n.voucherExists),m.saveGlobalDefaultPrice.attr("disabled","disabled"),m.saveGlobalDefaultPrice.removeAttr("href"),void t.find(".lp_js_voucher_msg").css("display","block");m.saveGlobalDefaultPrice.removeAttr("disabled"),t.find(m.generateVoucherCode).removeAttr("disabled"),m.saveGlobalDefaultPrice.attr("href","javascript:void(0);")}else{if(!0===u)return t.find(".lp_js_voucher_msg").text(lpVars.i18n.voucherExists),z(m.timepass.actions.save).attr("disabled","disabled"),z(m.timepass.actions.save).removeAttr("href"),void t.find(".lp_js_voucher_msg").css("display","block");z(m.timepass.actions.save).removeAttr("disabled"),t.find(m.generateVoucherCode).removeAttr("disabled"),z(m.timepass.actions.save).attr("href","javascript:void(0);")}e.parent().attr("data-code",s),e.parent().find('input[name="voucher_code[]"]').val(s),t.find(".lp_js_voucher_msg").hide()},t=function(e,t){var i=!1,s=parseFloat(t.find(m.voucherPriceInputSingle).val()),a=parseFloat(t.find(m.timepass.fields.price).val());if("subscription"===e&&(i=!0,a=parseFloat(t.find(m.subscription.fields.price).val())),i){if(a<s)return t.find(".lp_js_voucher_msg").text(lpVars.i18n.subVoucherMaximumPrice),z(m.subscription.actions.save).attr("disabled","disabled"),z(m.subscription.actions.save).removeAttr("href"),void t.find(".lp_js_voucher_msg").css("display","block");if(s<parseFloat(lpVars.currency.sis_min))return t.find(".lp_js_voucher_msg").text(lpVars.i18n.subVoucherMinimum),void t.find(".lp_js_voucher_msg").css("display","block");z(m.subscription.actions.save).removeAttr("disabled"),z(m.subscription.actions.save).attr("href","#")}else{if(a<s)return z(m.timepass.actions.save).attr("disabled","disabled"),z(m.timepass.actions.save).removeAttr("href"),t.find(".lp_js_voucher_msg").text(lpVars.i18n.tpVoucherMaximumPrice),void t.find(".lp_js_voucher_msg").css("display","block");z(m.timepass.actions.save).removeAttr("disabled"),z(m.timepass.actions.save).attr("href","#")}t.find(".lp_js_voucher_msg").hide()},p=function(e,t,i,s){var a=i||z(".lp_number-input",e),o=(o=a.val()).replace(/[^0-9\,\.]/g,"");return o=parseFloat(o.replace(",",".")).toFixed(2),isNaN(o)&&(o=0),o=Math.abs(o),s?o<lpVars.currency.sis_min?o=lpVars.currency.sis_min:o>lpVars.currency.sis_max&&(o=lpVars.currency.sis_max):o>lpVars.currency.sis_max?o=lpVars.currency.sis_max:0<o&&o<lpVars.currency.ppu_min&&(o=lpVars.currency.ppu_min),t||r(o,e),o=o.toFixed(2),-1!==lpVars.locale.indexOf("de_DE")&&(o=o.replace(".",",")),a.val(o),o},r=function(e,t){var i=m.revenueModelInput;t.hasClass(m.timepass.classes.editorForm)&&(i=m.timepass.fields.revenueModel);var s=z(i+"[value="+m.payPerUse+"]",t),a=z(i+"[value="+m.singleSale+"]",t),o=z("input:radio:checked",t).val();0===e||e>=lpVars.currency.ppu_min&&e<=lpVars.currency.ppu_max?(s.removeProp("disabled").parent("label").removeClass(m.disabled),a.parent("label").attr("data-tooltip",lpVars.i18n.payNowToolTip),a.parent("label").addClass("lp_tooltip"),s.parent("label").removeClass("lp_tooltip")):s.prop("disabled","disabled").parent("label").addClass(m.disabled),e>=lpVars.currency.sis_min?(a.removeProp("disabled").parent("label").removeClass(m.disabled),s.parent("label").attr("data-tooltip",lpVars.i18n.payLaterToolTip),s.parent("label").addClass("lp_tooltip"),a.parent("label").removeClass("lp_tooltip")):a.prop("disabled","disabled").parent("label").addClass(m.disabled),e>lpVars.currency.ppu_max&&o===m.payPerUse?a.prop("checked","checked"):e<lpVars.currency.sis_min&&o===m.singleSale&&s.prop("checked","checked"),z("label",t).removeClass(m.selected),z(i+":checked",t).parent("label").addClass(m.selected)},e=function(){m.globalDefaultPriceShowElements.velocity("slideUp",{duration:250,easing:"ease-out"}),m.globalDefaultPriceEditElements.velocity("slideDown",{duration:250,easing:"ease-out",complete:function(){setTimeout(function(){m.globalDefaultPriceInput.focus()},50)}}),S(m.globalDefaultPriceEditElements);var e=m.globalVouchers.data.vouchers;"string"==typeof m.globalVouchers.data.vouchers&&(e=JSON.parse(m.globalVouchers.data.vouchers)),e[0]instanceof Object&&z.each(e[0],function(e,t){O(e,t,"global",!0)}),m.globalDefaultPriceForm.addClass(m.editing)},l=function(){m.globalDefaultPriceShowElements.velocity("slideDown",{duration:250,easing:"ease-out"}),m.globalDefaultPriceEditElements.velocity("slideUp",{duration:250,easing:"ease-out"}),m.globalDefaultPriceForm.removeClass(m.editing),m.globalDefaultPriceInput.val(m.globalDefaultPriceDisplay.data("price"));var e=m.globalDefaultPriceRevenueModelDisplay.data("revenue");z(m.revenueModelLabel,m.globalDefaultPriceForm).removeClass(m.selected),z(".lp_js_revenueModelInput[value="+e+"]",m.globalDefaultPriceForm).prop("checked","checked").parent("label").addClass(m.selected);var t=m.lp_current_post_price_val.val();"2"===t?(m.lp_set_inidvidual_price.attr("checked","checked"),m.lp_disable_individual_purchase.removeProp("checked"),m.lp_make_post_free.removeProp("checked"),m.lp_global_price_section.show(),m.lp_global_revenue_section.show(),m.lp_js_form_buttons_section.css("float","none")):"1"===t?(m.lp_disable_individual_purchase.attr("checked","checked"),m.lp_set_inidvidual_price.removeProp("checked"),m.lp_make_post_free.removeProp("checked"),m.lp_global_price_section.hide(),m.lp_global_revenue_section.hide(),m.lp_js_form_buttons_section.css("float","right")):"0"===t&&(m.lp_make_post_free.attr("checked","checked"),m.lp_set_inidvidual_price.removeProp("checked"),m.lp_disable_individual_purchase.removeProp("checked"),m.lp_global_price_section.hide(),m.lp_global_revenue_section.hide(),m.lp_js_form_buttons_section.css("float","right"))},i=function(){var e=p(m.globalDefaultPriceForm,!1,m.globalDefaultPriceInput);m.globalDefaultPriceInput.val(e);var t,i=lpVars.gaData.sandbox_merchant_id+" | ",s="",a="LP WP Pricing",o="Save Global Default Price";z.post(ajaxurl,m.globalDefaultPriceForm.serializeArray(),function(e){e.success&&(m.globalDefaultPriceDisplay.text(e.localized_price).data("price",e.price),m.globalDefaultPriceRevenueModelDisplay.text(e.revenue_model_label).data("revenue",e.revenue_model),m.globalVouchers.data.vouchers=e.vouchers,2===e.post_price_behaviour?(t=i+"Individual Article | "+e.revenue_model_label,s=Math.ceil(100*e.price),lpGlobal.sendLPGAEvent(o,a,t,s),m.lp_current_post_price_val.val("2"),m.lp_set_inidvidual_price.attr("checked","checked"),m.lp_disable_individual_purchase.removeProp("checked"),m.lp_make_post_free.removeProp("checked"),m.lp_global_price_section.show(),m.lp_global_revenue_section.show(),m.lp_js_form_buttons_section.css("float","none"),m.lp_js_globalPriceOptionTwo.show(),m.editGlobalDefaultPrice.css("padding","14px"),m.lp_js_globalPriceOptionOne.hide(),m.lp_js_globalPriceOptionZero.hide(),m.addCategory.removeAttr("disabled"),m.categoryButtonContainer.removeClass("lp_tooltip"),m.categoryPanelWarning.hide()):1===e.post_price_behaviour?(t=i+"Cannot Purchase Individually |",s=0,lpGlobal.sendLPGAEvent(o,a,t,s),m.lp_current_post_price_val.val("1"),m.lp_disable_individual_purchase.attr("checked","checked"),m.lp_set_inidvidual_price.removeProp("checked"),m.lp_make_post_free.removeProp("checked"),m.lp_global_price_section.hide(),m.lp_global_revenue_section.hide(),m.lp_js_form_buttons_section.css("float","right"),m.lp_js_globalPriceOptionOne.show(),m.editGlobalDefaultPrice.css("padding","21px"),m.lp_js_globalPriceOptionTwo.hide(),m.lp_js_globalPriceOptionZero.hide(),m.addCategory.attr("disabled","disabled"),m.categoryButtonContainer.addClass("lp_tooltip"),0<z(m.categoryDefaultPriceForm+":visible").length&&m.categoryPanelWarning.show()):0===e.post_price_behaviour&&(t=i+"Free |",s=0,lpGlobal.sendLPGAEvent(o,a,t,s),m.lp_current_post_price_val.val("0"),m.lp_make_post_free.attr("checked","checked"),m.lp_set_inidvidual_price.removeProp("checked"),m.lp_disable_individual_purchase.removeProp("checked"),m.lp_global_price_section.hide(),m.lp_global_revenue_section.hide(),m.lp_js_form_buttons_section.css("float","right"),m.lp_js_globalPriceOptionZero.show(),m.editGlobalDefaultPrice.css("padding","21px"),m.lp_js_globalPriceOptionTwo.hide(),m.lp_js_globalPriceOptionOne.hide(),m.addCategory.removeAttr("disabled"),m.categoryButtonContainer.removeClass("lp_tooltip"),m.categoryPanelWarning.hide())),m.navigation.showMessage(e),l()},"json")},s=function(){var e;"1"!==m.lp_current_post_price_val.val()&&(m.addCategory.velocity("fadeOut",{duration:250}),z(m.emptyState,m.categoryDefaultPrices).is(":visible")&&z(m.emptyState,m.categoryDefaultPrices).velocity("fadeOut",{duration:400}),e=m.categoryDefaultPriceTemplate.clone().removeAttr("id").insertBefore("#lp_js_categoryDefaultPriceList").velocity("slideDown",{duration:250,easing:"ease-out"}),o(e))},o=function(e){z(".lp_js_categoryDefaultPriceForm.lp_is-editing").each(function(){d(z(this),!0)}),e.addClass(m.editing),z(m.categoryDefaultPriceShowElements,e).velocity("slideUp",{duration:250,easing:"ease-out"}),m.addCategory.velocity("fadeOut",{duration:250}),z(m.categoryDefaultPriceEditElements,e).velocity("slideDown",{duration:250,easing:"ease-out",complete:function(){z(m.categoryDefaultPriceInput,e).focus()}}),v(e,m.selectCategory,"laterpay_get_categories_with_price",_,"category")},n=function(a){var e=p(a);z(m.categoryDefaultPriceInput,a).val(e),z.post(ajaxurl,a.serializeArray(),function(e){var t,i,s;e.success&&(s="",t="Edit Category Default",i=lpVars.gaData.sandbox_merchant_id+" | "+e.category+" | "+e.revenue_model_label,s=Math.ceil(100*e.price),""===z(m.categoryId,a).val()&&(t="Create Category Default"),lpGlobal.sendLPGAEvent(t,"LP WP Pricing",i,s),z(m.categoryDefaultPriceDisplay,a).text(e.localized_price).data("price",e.price),z(m.revenueModelLabelDisplay,a).text(e.revenue_model_label).data("revenue",e.revenue_model),z(m.categoryDefaultPriceInput,a).val(e.price),z(m.categoryTitle,a).text(e.category),z(m.categoryId,a).val(e.category_id),z(m.categoryName,a).val(e.category),a.removeClass(m.unsaved)),d(a),m.navigation.showMessage(e)},"json")},d=function(e,t){var i;e.removeClass(m.editing),e.hasClass(m.unsaved)?e.velocity("slideUp",{duration:250,easing:"ease-out",complete:function(){z(this).remove(),0===z(m.categoryDefaultPriceForm+":visible").length&&z(m.emptyState,m.categoryDefaultPrices).velocity("fadeIn",{duration:400})}}):(z(m.categoryDefaultPriceEditElements,e).velocity("slideUp",{duration:250,easing:"ease-out"}),z(m.selectCategory,e).select2("destroy"),z(m.categoryDefaultPriceInput,e).val(z(m.categoryDefaultPriceDisplay,e).data("price")),i=z(m.revenueModelLabelDisplay,e).data("revenue"),z(m.revenueModelLabel,e).removeClass(m.selected),z(".lp_js_revenueModelInput[value="+i+"]",e).prop("checked","checked").parent("label").addClass(m.selected),z(m.categoryDefaultPriceShowElements,e).velocity("slideDown",{duration:250,easing:"ease-out"})),t||m.addCategory.velocity("fadeIn",{duration:250,display:"inline-block"})},u=function(t){var e=p(t,!1,z("input[name=price]",t));z("input[name=form]",t).val("price_category_form_delete");var i=z("input[name=category]",t).val(),s=t.find("span.lp_js_revenueModelLabelDisplay").text().trim(),a=lpVars.gaData.sandbox_merchant_id+" | "+i+" | "+s,o=Math.ceil(100*e);lpGlobal.sendLPGAEvent("Delete Category Default","LP WP Pricing",a,o),z.post(ajaxurl,t.serializeArray(),function(e){e.success&&t.velocity("slideUp",{duration:250,easing:"ease-out",complete:function(){z(this).remove(),0===z(m.categoryDefaultPriceForm+":visible").length&&(z(m.emptyState,m.categoryDefaultPrices).velocity("fadeIn",{duration:400}),z(m.categoryPanelWarning).hide())}}),m.navigation.showMessage(e)},"json")},_=function(e,t){var i=z(t).parent().parent().parent();return z(".lp_js_selectCategory",i).val(e.text),z(".lp_js_categoryDefaultPriceCategoryId",i).val(e.id),e.text},v=function(t,e,i,s,a){var o,r="";"timepass"===a||"subscription"===a?(o=m.timepass,"subscription"===a&&(o=m.subscription),r=z(o.fields.categoryId,t).val(),z(o.fields.scopeCategory,t).val(r),z(e,t).on("change",function(e){z(o.fields.categoryId,t).val(e.val)})):r=z(e,t).val(),z(e,t).select2({allowClear:!0,ajax:{url:ajaxurl,data:function(e){return{form:i,term:e,action:"laterpay_pricing"}},results:function(i){var s=[];return z.each(i.categories,function(e){var t=i.categories[e];s.push({id:t.term_id,text:t.name})}),{results:s}},dataType:"json",type:"POST"},initSelection:function(e,t){"0"!==r&&z.post(ajaxurl,{form:i,terms:r,term:"",action:"laterpay_pricing"},function(i){var s;void 0!==i&&(s=[],z.each(i.categories,function(e){var t=i.categories[e];s.push({id:t.term_id,text:t.name})}),t(s))})},formatResult:function(e){return e.text},formatSelection:s,multiple:!0,escapeMarkup:function(e){return e}})},h=function(e){var t=m[e];t.actions.create.velocity("fadeOut",{duration:250}),z(m.emptyState,t.editor).is(":visible")&&z(m.emptyState,t.editor).velocity("fadeOut",{duration:400}),z(t.wrapper).first().before(t.template.clone().removeAttr("id"));var i=z(t.wrapper,t.editor).first();z(t.form,i).addClass(m.unsaved),g(e,i),i.velocity("slideDown",{duration:250,easing:"ease-out",complete:function(){z(this).removeClass(m.hidden)}}).find(t.form).velocity("slideDown",{duration:250,easing:"ease-out",complete:function(){z(this).removeClass(m.hidden)}})},b=function(e,t){var i=m[e],s=z(i.form,i.template).clone();z(i.editorContainer,t).empty().append(s),g(e,t),z(i.actions.modify,t).addClass(m.hidden),z(i.actions.show,t).removeClass(m.hidden),s.removeClass(m.hidden)},g=function(e,i){var s,t,a,o,r=m[e],l=i.data(r.data.id),n=r.data.list[l];n&&(z("input, select, textarea",i).each(function(e,t){""!==(s=z(t,i).attr("name"))&&void 0!==n[s]&&"revenue_model"!==s&&z(t,i).val(n[s])}),"timepass"===e?(t=r.data.vouchers[l],p(i.find("form"),!1,z(r.fields.price,i)),z(m.voucherPriceInput,i).val(z(r.fields.price,i).val()),z(m.revenueModelLabel,i).removeClass(m.selected),(a=z(r.fields.revenueModel+"[value="+n.revenue_model+"]",i)).prop("checked","checked"),a.parent("label").addClass(m.selected),S(i),t instanceof Object&&z.each(t,function(e,t){O(e,t,i,!0)})):"subscription"===e&&(o=r.data.vouchers[l],p(i.find("form"),!0,z(r.fields.price,i),!0),z(m.voucherPriceInput,i).val(z(r.fields.price,i).val()),S(i),o instanceof Object&&z.each(o,function(e,t){O(e,t,i,!0)})),z(r.categoryWrapper,i).hide(),v(i,r.fields.scopeCategory,"laterpay_get_categories",c,e),"0"!==z(r.fields.scope,i).find("option:selected").val()&&z(r.categoryWrapper,i).show())},y=function(e,t,i){var s,a,o,r,l=m[e],n=""!==i.val()?i.val():" ";i.hasClass(l.classes.durationClass)||i.hasClass(l.classes.periodClass)?(s=z(l.fields.duration,t).val(),a=z(l.fields.period,t).find("option:selected").text(),n=s+" "+(a=1<parseInt(s,10)?a+"s":a),z(l.preview.validity,t).text(n),"subscription"===e&&z(l.preview.renewal,t).text(lpVars.i18n.after+" "+n)):i.hasClass(l.classes.scopeClass)||i.hasClass(l.classes.scopeCategoryClass)?(n=(o=z(l.fields.scope,t).find("option:selected")).text(),"0"!==o.val()&&(n+=" "+z(l.fields.scopeCategory,t).val()),z(l.preview.access,t).text(n)):i.hasClass(l.classes.priceClass)?((r=z("<small />",{class:"lp_purchase-link__currency"})).text(lpVars.currency.code),z(".lp_js_purchaseLink",t).empty().append(n).append(r),z(l.preview.price).text(n+" "+lpVars.currency.code)):i.hasClass(l.classes.titleClass)?z(l.preview.title,t).text(n):i.hasClass(l.classes.descriptionClass)&&z(l.preview.description,t).text(n)},P=function(e,i){var t=m[e],s=i.find(t.preview.wrapper).data(t.data.id);z(t.form,i).hasClass(m.unsaved)?i.velocity("fadeOut",{duration:250,complete:function(){z(this).remove(),0===z(t.wrapper+":visible").length&&z(m.emptyState,t.editor).velocity("fadeIn",{duration:400})}}):z(t.form,i).velocity("fadeOut",{duration:250,complete:function(){z(this).remove()}}),z(t.actions.modify,i).removeClass(m.hidden),z(t.actions.show,i).addClass(m.hidden),S(i),t.data.vouchers[s]instanceof Object&&(z.each(t.data.vouchers[s],function(e,t){I(e,t,i)}),i.find(m.voucherList).show()),t.actions.create.is(":hidden")&&t.actions.create.velocity("fadeIn",{duration:250,display:"inline-block"})},j=function(u,_){var v=m[u];z.post(ajaxurl,z(v.form,_).serializeArray(),function(e){var t,i,s,a,o,r,l,n,c,p,d;e.success&&(t=_.find(v.preview.wrapper).data(v.data.id),i="Time Pass",s="Pay Later",a=lpVars.gaData.sandbox_merchant_id+" | ",c="","sis"===e.revenueModel&&(s="Pay Now"),"subscription"===u&&(i="Subscription",s="Pay Now"),p=0!==t?"Edit "+i:"Create "+i,0===e.data.access_to?n="All":1===e.data.access_to?n="Content except "+e.data.category_name:2===e.data.access_to&&(n="Content in "+e.data.category_name),l=e.data.duration+" "+["Hour","Day","Week","Month","Year"][e.data.period],c=Object.keys(e.vouchers).length,r=Math.ceil(100*e.data.price),o=a+l+" | "+s+" | "+n+" | "+c,lpGlobal.sendLPGAEvent(p,"LP WP Pricing",o,r),d=e.data[v.data.fields.id],v.data.vouchers[d]=e.vouchers,v.data.list[d]||(_.data(v.data.id,d),z(v.id,_).text(d).parent().velocity("fadeIn",{duration:250})),v.data.list[d]=e.data,z(v.preview.placeholder,_).empty().append(e.html),z(v.actions.show,_).addClass(m.hidden),z(v.actions.modify,_).removeClass(m.hidden),z(v.form,_).velocity("fadeOut",{duration:250,complete:function(){z(this).remove(),k(_,v,d)}}),v.actions.create.is(":hidden")&&v.actions.create.velocity("fadeIn",{duration:250,display:"inline-block"})),m.navigation.showMessage(e),f(u,v,e.region,"edit")},"json")},D=function(t,i){var e,s,a=m[t],o=a.data.list[i.data(a.data.id)],r="Time Pass",l="Pay Later",n=lpVars.gaData.sandbox_merchant_id+" | ";"sis"===o.revenueModel&&(l="Pay Now"),"subscription"===t&&(r="Subscription",l="Pay Now");var c="Delete "+r;0===parseInt(o.access_to)?s="All":1===parseInt(o.access_to)?s="Content except "+o.category_name:2===parseInt(o.access_to)&&(s="Content in "+o.category_name),e=o.duration+" "+["Hour","Day","Week","Month","Year"][o.period];var p=a.data.vouchers[i.data(a.data.id)],d=void 0===p?0:Object.keys(p).length,u=Math.ceil(100*o.price),_=n+e+" | "+l+" | "+s+" | "+d;lpGlobal.sendLPGAEvent(c,"LP WP Pricing",_,u),confirm(a.data.deleteConfirm)&&i.velocity("slideUp",{duration:250,easing:"ease-out",begin:function(){z.post(ajaxurl,{action:"laterpay_pricing",form:a.ajax.form.delete,id:i.data(a.data.id)},function(e){e.success?(i.remove(),0===z(a.wrapper+":visible").length&&z(m.emptyState,a.editor).velocity("fadeIn",{duration:400}),f(t,a,e.region,"delete",i.data(a.data.id))):z(this).stop().show(),m.navigation.showMessage(e)},"json")}})},w=function(e,t){z(t).parents(m[e].preview.wrapper).toggleClass("lp_is-flipped")},C=function(e,t){var i=m[e];"0"===z("option:selected",t).val()?z(i.categoryWrapper).hide():z(i.categoryWrapper).show()},E=function(e,t,i){var s,a=m[e],o=[],r=24,l=t.val(),n=z(a.fields.duration,i).val();for("4"===l?r=1:"3"===l&&(r=12),s=1;s<=r;s++){var c=z("<option/>",{value:s});c.text(s),o.push(c)}z(a.fields.duration,i).find("option").remove().end().append(o).val(n&&n<=r?n:1)},k=function(i,e,t){S(i),e.data.vouchers[t]instanceof Object&&(z.each(e.data.vouchers[t],function(e,t){I(e,t,i)}),i.find(m.voucherList).show())},x=function(t){var i="",i="global"===t?m.globalDefaultPriceEditElements.find(m.voucherPriceInput).val():t.find(m.voucherPriceInput).val();z.post(ajaxurl,{form:"generate_voucher_code",action:"laterpay_pricing",price:i},function(e){e.success?O(e.code,i,t):m.navigation.showMessage(e)},"json")},O=function(e,t,i,s){"global"===i&&(i=m.globalDefaultPriceEditElements).find(m.voucherPlaceholder).css("visibility","visible");var a=t.price?t.price:t,o=t.title?t.title:"",r="",l=z("<div/>",{class:"lp_js_voucher lp_voucher","data-code":e,style:"display:none;"}),n=z("<input/>",{type:"hidden",name:"voucher_code[]",value:e}),c=z("<input/>",{type:"hidden",name:"voucher_price[]",class:"lp_voucher_form_data",value:a}),p="";!0===s?p=z("<span/>",{class:"lp_voucher__code"}).text(e):(p=z("<input/>",{class:"lp_voucher__code",value:e,maxlength:6}),l.attr("data-icon","d"));var d=z("<span/>",{class:"lp_voucher__code-infos"}).text(lpVars.i18n.voucherText),r=!0===s?z("<span/>",{}).text(a):z("<input/>",{type:"text",class:"lp_js_voucherPriceInputSingle lp_input lp_number-input",value:a}),u=z("<span/>",{class:"lp_voucher__code-infos"}).text(lpVars.currency.code),_=z("<label/>",{class:"lp_voucher__code_description"}).text(lpVars.voucherDescriptionText),v=z("<input/>",{class:"lp_input__title",type:"text",name:"voucher_title[]",value:o}).css("width","65%"),f=z("<a/>",{class:"lp_js_deleteVoucher lp_edit-link--bold","data-icon":"g"}).css({"margin-left":"15px",position:"absolute",padding:0});l.empty().append(n).append(c).append(p).append(d).append(r).append(u).append(v).append(_).append(f),!0===s?i.find(m.voucherPlaceholder).prepend(l).find("div").first().velocity("slideDown",{duration:250,easing:"ease-out"}):i.find(m.voucherPlaceholder).append(l).find("div").last().velocity("slideDown",{duration:250,easing:"ease-out"})},I=function(e,t,i){var s=t.title?t.title:"",a=t.price+" "+lpVars.currency.code,o=z("<div/>",{class:"lp_js_voucher lp_voucher","data-code":e}),r=z("<span/>",{class:"lp_voucher__title"}).append(z("<b/>").text(s)),l=z("<span/>",{class:"lp_voucher__code"}).text(e),n=z("<span/>",{class:"lp_voucher__code-infos"}).text(lpVars.i18n.voucherText+" "+a),c=z("<div/>").append(l).append(n);o.append(r).append(c),i.find(m.voucherList).append(o)},S=function(e){e.find(m.voucher).remove()},V=function(e){e.velocity("slideUp",{duration:250,easing:"ease-out",complete:function(){z(this).remove()}})},T=function(){var t=z("ul.post_types :checkbox:checked"),i=[],s=[],e=lpVars.i18n.noContentItems;z.each(t,function(e){i.push(z(t[e]).next().text().trim()),s.push(z(t[e]).next().text().trim())});i=lpVars.gaData.sandbox_merchant_id+" | "+i.join(",");z.post(ajaxurl,m.globalEnabledPostTypesForm.serializeArray(),function(e){m.navigation.showMessage(e)},"json"),lpGlobal.sendLPGAEvent("LaterPay Content","LP WP Pricing",i),s.length&&(e=s.join(", ")),m.salableContentLabelInfo.empty().append(z("<b/>").text(e)),L()},M=function(){m.laterpayContentElements.velocity("slideUp",{duration:250,easing:"ease-out"}),m.globalEnabledPostTypeShowElements.velocity("slideDown",{duration:250,easing:"ease-out"})},L=function(){m.laterpayContentElements.velocity("slideDown",{duration:250,easing:"ease-out"}),m.globalEnabledPostTypeShowElements.velocity("slideUp",{duration:250,easing:"ease-out"})},F=function(){m.customizeOverlayOptionsElements.velocity("slideUp",{duration:250,easing:"ease-out"}),m.customizeOverlayShowElements.velocity("slideDown",{duration:250,easing:"ease-out"})},A=function(){m.customizeOverlayOptionsElements.velocity("slideDown",{duration:250,easing:"ease-out"}),m.customizeOverlayShowElements.velocity("slideUp",{duration:250,easing:"ease-out"})},G=function(){z.post(ajaxurl,m.customizeOverlayOptionsForm.serializeArray(),function(e){var t;e.success&&(m.pricing_option_order_label.text(lpVars.pricing_order_label[e.purchase_order]),m.default_selection_label.text(lpVars.default_selection_label[e.purchase_selection]),t="",t=lpVars.gaData.sandbox_merchant_id+" | "+["Default","Ascending","Descending"][e.purchase_order]+" | "+["First","Single Purchase","Time Pass","Subscription"][e.purchase_selection],lpGlobal.sendLPGAEvent("Customize Display","LP WP Pricing",t)),A(),m.navigation.showMessage(e)},"json")},W=function(i,s){var a;return function(){var e=this,t=arguments;clearTimeout(a),a=setTimeout(function(){i.apply(e,t)},s)}},m.body.on("change",m.revenueModelInput,function(){p(z(this).parents("form"))}),m.body.on("keyup",m.priceInput,W(function(){p(z(this).parents("form"))},1500)),m.editGlobalDefaultPrice.on("mousedown",function(){e()}).click(function(e){e.preventDefault()}),m.cancelEditingGlobalDefaultPrice.on("mousedown",function(){m.saveGlobalDefaultPrice.removeAttr("disabled"),m.saveGlobalDefaultPrice.attr("href","#"),m.globalDefaultPriceEditElements.find(".lp_js_voucher_msg").hide(),l()}).click(function(e){e.preventDefault()}),m.saveGlobalDefaultPrice.on("mousedown",function(){i()}).click(function(e){e.preventDefault()}),m.addCategory.on("mousedown",function(){s()}).click(function(e){e.preventDefault()}),m.body.on("click",m.editCategoryDefaultPrice,function(){var e=z(this).parents(m.categoryDefaultPriceForm);o(e)}),m.body.on("click",m.cancelEditingCategoryDefaultPrice,function(){var e=z(this).parents(m.categoryDefaultPriceForm);d(e)}),m.body.on("click",m.saveCategoryDefaultPrice,function(){var e=z(this).parents(m.categoryDefaultPriceForm);("1"!==m.lp_current_post_price_val.val()?n:d)(e)}),m.body.on("click",m.deleteCategoryDefaultPrice,function(){var e=z(this).parents(m.categoryDefaultPriceForm);u(e)}),m.timepass.actions.create.on("mousedown",function(){h("timepass")}).on("click",function(e){e.preventDefault()}),m.timepass.editor.on("mousedown",m.timepass.actions.edit,function(){b("timepass",z(this).parents(m.timepass.wrapper))}).on("click",m.timepass.actions.edit,function(e){e.preventDefault()}),m.timepass.editor.on("change",m.timepass.fields.revenueModel,function(){var e=z(this).parents("form");p(e,!1,z(m.timepass.fields.price,e))}),m.timepass.editor.on("change",m.timepass.fields.duration,function(){y("timepass",z(this).parents(m.timepass.wrapper),z(this))}),m.timepass.editor.on("change",m.timepass.fields.period,function(){E("timepass",z(this),z(this).parents(m.timepass.wrapper)),y("timepass",z(this).parents(m.timepass.wrapper),z(this))}),m.timepass.editor.on("change",m.timepass.fields.scope,function(){C("timepass",z(this)),y("timepass",z(this).parents(m.timepass.wrapper),z(this))}),m.timepass.editor.on("change",m.timepass.fields.scopeCategory,function(){y("timepass",z(this).parents(m.timepass.wrapper),z(this))}),m.timepass.editor.on("input",[m.timepass.fields.title,m.timepass.fields.description].join(),function(){y("timepass",z(this).parents(m.timepass.wrapper),z(this))}),m.timepass.editor.on("keyup",m.timepass.fields.price,W(function(){p(z(this).parents("form"),!1,z(this)),y("timepass",z(this).parents(m.timepass.wrapper),z(this))},1500)),m.timepass.editor.on("click",m.timepass.actions.cancel,function(e){z(m.timepass.actions.save).removeAttr("disabled"),z(m.timepass.actions.save).attr("href","#"),P("timepass",z(this).parents(m.timepass.wrapper)),e.preventDefault()}),m.timepass.editor.on("click",m.timepass.actions.save,function(e){return!z(this).is("[disabled=disabled]")&&(j("timepass",z(this).parents(m.timepass.wrapper)),void e.preventDefault())}),m.timepass.editor.on("click",m.timepass.actions.delete,function(e){D("timepass",z(this).parents(m.timepass.wrapper)),e.preventDefault()}),m.timepass.editor.on("mousedown",m.timepass.actions.flip,function(){w("timepass",this)}).on("click",m.timepass.actions.flip,function(e){e.preventDefault()}),m.timepass.editor.on("keyup",m.voucherPriceInputSingle,W(function(){var e=p(z(this).parents("form"),!0,z(this));z(this).parent().find("input.lp_voucher_form_data").val(e)},1500)),m.timepass.editor.on("mousedown",m.generateVoucherCode,function(e){return z(this).is("[disabled=disabled]")?(e.preventDefault(),!1):void x(z(this).parents(m.timepass.wrapper))}).on("click",m.generateVoucherCode,function(e){e.preventDefault()}),m.timepass.editor.on("click",m.voucherDeleteLink,function(e){V(z(this).parent()),e.preventDefault()}),m.timepass.editor.on("keyup",m.voucherPriceInputSingle,function(e){t("timepass",z(this).parents(m.timepass.wrapper)),e.preventDefault()}),m.subscription.actions.create.on("mousedown",function(){h("subscription")}).on("click",function(e){e.preventDefault()}),m.subscription.editor.on("mousedown",m.subscription.actions.edit,function(){b("subscription",z(this).parents(m.subscription.wrapper))}).on("click",m.subscription.actions.edit,function(e){e.preventDefault()}),m.subscription.editor.on("change",m.subscription.fields.duration,function(){y("subscription",z(this).parents(m.subscription.wrapper),z(this))}),m.subscription.editor.on("change",m.subscription.fields.period,function(){E("subscription",z(this),z(this).parents(m.subscription.wrapper)),y("subscription",z(this).parents(m.subscription.wrapper),z(this))}),m.subscription.editor.on("change",m.subscription.fields.scope,function(){C("subscription",z(this)),y("subscription",z(this).parents(m.subscription.wrapper),z(this))}),m.subscription.editor.on("change",m.subscription.fields.scopeCategory,function(){y("subscription",z(this).parents(m.subscription.wrapper),z(this))}),m.subscription.editor.on("input",[m.subscription.fields.title,m.subscription.fields.description].join(),function(){y("subscription",z(this).parents(m.subscription.wrapper),z(this))}),m.subscription.editor.on("keyup",m.subscription.fields.price,W(function(){p(z(this).parents("form"),!0,z(this),!0),y("subscription",z(this).parents(m.subscription.wrapper),z(this))},1500)),m.subscription.editor.on("click",m.subscription.actions.cancel,function(e){z(m.subscription.actions.save).removeAttr("disabled"),z(m.subscription.actions.save).attr("href","#"),P("subscription",z(this).parents(m.subscription.wrapper)),e.preventDefault()}),m.subscription.editor.on("click",m.subscription.actions.save,function(e){return!z(this).is("[disabled=disabled]")&&(j("subscription",z(this).parents(m.subscription.wrapper)),void e.preventDefault())}),m.subscription.editor.on("click",m.subscription.actions.delete,function(e){D("subscription",z(this).parents(m.subscription.wrapper)),e.preventDefault()}),m.subscription.editor.on("mousedown",m.subscription.actions.flip,function(){w("subscription",this)}).on("click",m.subscription.actions.flip,function(e){e.preventDefault()}),m.subscription.editor.on("keyup",m.voucherPriceInputSingle,W(function(){var e=p(z(this).parents("form"),!0,z(this),!0);z(this).parent().find("input.lp_voucher_form_data").val(e)},1500)),m.subscription.editor.on("mousedown",m.generateVoucherCode,function(e){return z(this).is("[disabled=disabled]")?(e.preventDefault(),!1):void x(z(this).parents(m.subscription.wrapper))}).on("click",m.generateVoucherCode,function(e){e.preventDefault()}),m.subscription.editor.on("click",m.voucherDeleteLink,function(e){V(z(this).parent()),e.preventDefault()}),m.subscription.editor.on("keyup",m.voucherPriceInputSingle,function(e){t("subscription",z(this).parents(m.subscription.wrapper)),e.preventDefault()}),m.lp_make_post_free.on("click",function(){return m.lp_global_price_section.hide(),m.lp_global_revenue_section.hide(),m.lp_js_form_buttons_section.css("float","right"),!0}),m.lp_disable_individual_purchase.on("click",function(){return m.lp_global_price_section.hide(),m.lp_global_revenue_section.hide(),m.lp_js_form_buttons_section.css("float","right"),!0}),m.lp_set_inidvidual_price.on("click",function(){return m.lp_global_price_section.show(),m.lp_global_revenue_section.show(),m.lp_js_form_buttons_section.css("float","none"),!0}),m.saveEnabledPostTypes.on("mousedown",function(){T()}).click(function(e){e.preventDefault()}),m.cancelEditingEnabledPostTypes.on("mousedown",function(){m.globalEnabledPostTypesForm.trigger("reset"),L()}).click(function(e){e.preventDefault()}),m.editLaterPayEnabledContent.on("mousedown",function(){M()}).click(function(e){e.preventDefault()}),m.body.on("paste keyup",m.voucherCodeInput,function(e){var t,i,s=z(e.target).parents(m.timepass.wrapper);z(e.target).hasClass("lp_voucher__code")&&(t="timepass",s.length||(t="subscription",s=z(e.target).parents(m.subscription.wrapper)),(i=z(e.target).parents(m.globalDefaultEditWrapper)).length&&(t="global",s=i),a(z(e.target),s,t))}),m.saveOverlayCustomizeOptions.on("mousedown",function(){G()}).click(function(e){e.preventDefault()}),m.cancelEditingOverlayOptions.on("mousedown",function(){A()}).click(function(e){e.preventDefault()}),m.editCustomizeOverlayOptions.on("mousedown",function(){F()}).click(function(e){e.preventDefault()}),m.overlay_default_selection.on("change",function(){var e=z(this).val();"2"===e?(m.timepass_selection_info.show(),m.subscription_selection_info.hide()):"3"===e&&(m.subscription_selection_info.show(),m.timepass_selection_info.hide())}),m.globalDefaultPriceEditElements.on("keyup",m.voucherPriceInputSingle,W(function(){var e=p(z(this).parents("form"),!0,z(this));z(this).parent().find("input.lp_voucher_form_data").val(e)},1500)),m.globalDefaultPriceEditElements.on("mousedown",m.generateVoucherCode,function(){x("global")}).on("click",m.generateVoucherCode,function(e){e.preventDefault()}),m.globalDefaultPriceEditElements.on("click",m.voucherDeleteLink,function(e){V(z(this).parent()),1===m.globalDefaultPriceEditElements.find(m.voucherPlaceholder).children().length&&m.globalDefaultPriceEditElements.find(m.voucherPlaceholder).css("visibility","hidden"),e.preventDefault()})})}(jQuery);