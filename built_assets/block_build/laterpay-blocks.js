!function(e){var t={};function a(n){if(t[n])return t[n].exports;var l=t[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,a),l.l=!0,l.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)a.d(n,l,function(t){return e[t]}.bind(null,l));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=14)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){!function(){e.exports=this.wp.i18n}()},function(e,t){!function(){e.exports=this.wp.components}()},function(e,t){!function(){e.exports=this.wp.blockEditor}()},function(e,t){function a(t){return e.exports=a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(t)}e.exports=a},function(e,t){!function(){e.exports=this.wp.blocks}()},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function a(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}},function(e,t,a){var n=a(11);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},function(e,t,a){var n=a(12),l=a(13);e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?l(e):t}},function(e,t){!function(){e.exports=this.wp.apiFetch}()},function(e,t){function a(t,n){return e.exports=a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(t,n)}e.exports=a},function(e,t){function a(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=a=function(e){return typeof e}:e.exports=a=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(t)}e.exports=a},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,a){"use strict";a.r(t);var n=a(1),l=a(5),r=a(0),o={};o.logo=Object(r.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",x:"0",y:"0",viewBox:"0 0 500 500",xmlSpace:"preserve"},Object(r.createElement)("g",null,Object(r.createElement)("path",{fill:"#00AAA2",d:"M317,479.4c-12,0-23.3-7.6-27.4-19.6c-5.2-15.1,2.9-31.6,18-36.8c71.5-24.6,119.5-91.9,119.5-167.5 c0-97.6-79.4-177.1-177.1-177.1S72.9,157.9,72.9,255.6c0,75.6,48,143,119.5,167.5c15.1,5.2,23.2,21.7,18,36.8s-21.7,23.2-36.8,18 C78.7,445.3,15,355.9,15,255.6c0-129.6,105.4-235,235-235s235,105.4,235,235c0,100.4-63.7,189.7-158.6,222.3 C323.3,478.9,320.1,479.4,317,479.4z"}))),o.premiumBox=Object(r.createElement)("svg",{"aria-hidden":"true",role:"img",focusable:"false",className:"dashicon dashicons-download",xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",viewBox:"0 0 20 20"},Object(r.createElement)("path",{d:"M14.01 4v6h2V2H4v8h2.01V4h8zm-2 2v6h3l-5 6-5-6h3V6h4z",fill:"#00AAA2"})),o.dynamicAccess=Object(r.createElement)("svg",{"aria-hidden":"true",role:"img",focusable:"false",className:"dashicon dashicons-unlock",xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",viewBox:"0 0 20 20"},Object(r.createElement)("path",{d:"M12 9V6c0-1.1-.9-2-2-2s-2 .9-2 2H6c0-2.21 1.79-4 4-4s4 1.79 4 4v3h1c.55 0 1 .45 1 1v7c0 .55-.45 1-1 1H5c-.55 0-1-.45-1-1v-7c0-.55.45-1 1-1h7zm-1 7l-.36-2.15c.51-.24.86-.75.86-1.35 0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5c0 .6.35 1.11.86 1.35L9 16h2z",fill:"#00AAA2"})),o.heart=Object(r.createElement)("svg",{width:"20px",height:"20px",viewBox:"0 0 1500 1500",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)("path",{d:"M744.6,1186c-181.7-131.6-504.9-412.3-504.9-639.8C239.7,335.1,386.8,287,452,287s149.6,37.2,190.2,90.1l93.2,121.5c4.8,6.3,14.4,6.3,19.2,0l92.8-121.8c40.3-52.9,133.3-89.8,190-89.8c50.2,0,69.6,8,109,36l-21.2,6.7l-78.1,11.3l264,247.5l73.9-353.6l-71.2,35.3l-26.3,8.3c-87-98.2-210.7-120.6-250.1-120.6c-110.9,0-227.2,54.7-292.7,140.7c-66-86-182.3-140.7-293.4-140.7c-62.5,0-340.7,65.5-340.7,388.4c0,391.7,634.1,796.5,634.1,796.5s494-315.6,609.6-659.1l-123.5-37.7C1160,850.5,900.4,1073.1,744.6,1186z",fill:"#00AAA2"}));var c=o,i=a(6),u=a.n(i),s=a(7),p=a.n(s),b=a(8),m=a.n(b),d=a(9),y=a.n(d),f=a(4),_=a.n(f),O=a(3),v=a(2);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=_()(e);if(t){var l=_()(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return y()(this,a)}}var h=function(e){m()(a,e);var t=j(a);function a(){return u()(this,a),t.apply(this,arguments)}return p()(a,[{key:"render",value:function(){var e=this.props,t=e.attributes,a=t.alignment,l=t.purchaseType,o=t.buttonText,c=t.purchaseId,i=t.buttonBackgroundColor,u=t.buttonTextColor,s=e.setAttributes,p=e.className;return[Object(r.createElement)(O.InspectorControls,null,Object(r.createElement)(v.PanelBody,{title:Object(n.__)("Purchase Button Settings","laterpay")},Object(r.createElement)(v.RadioControl,{label:Object(n.__)("Type Of Purchase","laterpay"),selected:l,options:[{label:Object(n.__)("Time Pass","laterpay"),value:"tp"},{label:Object(n.__)("Subscription","laterpay"),value:"sub"}],onChange:function(e){return s({purchaseType:e})}}),Object(r.createElement)(v.TextControl,{label:Object(n.__)("Time Pass / Subscription ID","laterpay"),help:Object(n.__)("To find the Time Pass or Subscription ID, navigate to the Paywall tab. The ID is the number located to the left of the Time Pass or Subscription.","laterpay"),value:c,onChange:function(e){return s({purchaseId:e})}}),Object(r.createElement)(v.TextControl,{label:Object(n.__)("Purchase Button Text","laterpay"),help:Object(n.__)("Enter purchase button text, defaults to item revenue.","laterpay"),value:o,onChange:function(e){return s({buttonText:e})}}),Object(r.createElement)(O.PanelColorSettings,{title:Object(n.__)("Button Color","laterpay"),colorSettings:[{value:i,onChange:function(e){s({buttonBackgroundColor:e})},label:Object(n.__)("Background Color")}]}),Object(r.createElement)(O.PanelColorSettings,{title:Object(n.__)("Button Text Color","laterpay"),colorSettings:[{value:u,onChange:function(e){s({buttonTextColor:e})},label:Object(n.__)("Text Color")}]}),Object(r.createElement)(O.ContrastChecker,{isLargeText:!0,textColor:u,backgroundColor:i}))),Object(r.createElement)(O.BlockControls,null,Object(r.createElement)(O.AlignmentToolbar,{value:a,onChange:function(e){return s({alignment:e})}})),Object(r.createElement)("div",{className:p,style:{textAlign:a}},Object(r.createElement)("button",{className:"lp_purchase-overlay__purchase",style:{backgroundColor:i,color:u}},Object(r.createElement)("span",{"data-icon":"b"}),Object(r.createElement)("span",{className:"lp_purchase-button__text"},o||Object(n.__)("Buy Now, Pay Later","laterpay"))))]}}]),a}(r.Component);Object(l.registerBlockType)("laterpay/sub-pass-purchase-button",{title:Object(n.__)("Laterpay Purchase Button","laterpay"),icon:c.logo,category:"laterpay-blocks",keywords:[Object(n.__)("Time Pass Button","laterpay"),Object(n.__)("Subscription Button","laterpay")],attributes:{alignment:{type:"string",default:"left"},purchaseType:{type:"string",default:"tp"},purchaseId:{type:"string"},buttonBackgroundColor:{type:"string",default:"#00aaa2"},buttonTextColor:{type:"string",default:"#ffffff"},buttonText:{type:"string"}},edit:h,save:function(){return null}});var g=function(e,t){return Object(r.createElement)(v.Notice,{status:e,isDismissible:!1},t)};function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=_()(e);if(t){var l=_()(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return y()(this,a)}}var E=function(e){m()(a,e);var t=C(a);function a(){return u()(this,a),t.apply(this,arguments)}return p()(a,[{key:"render",value:function(){var e=this.props,t=e.attributes,a=t.accessBehaviour,l=t.purchaseRequirement,o=t.content,c=t.subscriptionIds,i=t.subscriptionSelectionType,u=t.timePassIds,s=t.timePassSelectionType,p=e.setAttributes,b=e.className;return[Object(r.createElement)(O.InspectorControls,null,Object(r.createElement)(v.PanelBody,{title:Object(n.__)("Dynamic Access Settings","laterpay")},Object(r.createElement)(v.RadioControl,{label:Object(n.__)("Access Behaviour","laterpay"),selected:a,options:[{label:Object(n.__)("Show contents after purchase","laterpay"),value:"show"},{label:Object(n.__)("Hide contents after purchase","laterpay"),value:"hide"}],onChange:function(e){return p({accessBehaviour:e})}}),Object(r.createElement)(v.SelectControl,{label:Object(n.__)("Purchase requirement","laterpay"),value:l,options:[{value:"any",label:Object(n.__)("Any Purchase","laterpay")},{value:"specific",label:Object(n.__)("Specific Time Passes or Subscriptions","laterpay")}],onChange:function(e){return p({purchaseRequirement:e})}}),"specific"===l&&Object(r.createElement)(v.SelectControl,{label:Object(n.__)("Time Passes to select","laterpay"),value:s,options:[{value:"none",label:Object(n.__)("None","laterpay")},{value:"all",label:Object(n.__)("All","laterpay")},{value:"multiple",label:Object(n.__)("Specific","laterpay")}],onChange:function(e){return p({timePassSelectionType:e})}}),"specific"===l&&"multiple"===s&&Object(r.createElement)(v.TextControl,{label:Object(n.__)("Enter Time Pass ID's manually separated by comma","laterpay"),help:Object(n.__)("To find the Time Pass or Subscription ID, navigate to the Paywall tab. The ID is the number located to the left of the Time Pass or Subscription.","laterpay"),value:u,onChange:function(e){return p({timePassIds:e})}}),"specific"===l&&Object(r.createElement)(v.SelectControl,{label:Object(n.__)("Subscriptions to select","laterpay"),value:i,options:[{value:"none",label:Object(n.__)("None","laterpay")},{value:"all",label:Object(n.__)("All","laterpay")},{value:"multiple",label:Object(n.__)("Specific","laterpay")}],onChange:function(e){return p({subscriptionSelectionType:e})}}),"specific"===l&&"multiple"===i&&Object(r.createElement)(v.TextControl,{label:Object(n.__)("Enter Subscription ID's manually separated by comma","laterpay"),help:Object(n.__)("To find the Time Pass or Subscription ID, navigate to the Paywall tab. The ID is the number located to the left of the Time Pass or Subscription.","laterpay"),value:c,onChange:function(e){return p({subscriptionIds:e})}}),"specific"===l&&"all"===s&&"all"===i&&g("error",Object(n.__)("All cannot be used for both 'Time Passes' and 'Subscriptions' at the same time.","laterpay")))),Object(r.createElement)("div",{className:b},Object(r.createElement)(O.RichText,{tagName:"div",multiline:"p",placeholder:Object(n.__)("Add content for Dynamic Access","laterpay"),value:o,onChange:function(e){return p({content:e})}}))]}}]),a}(r.Component),T=Object(r.createElement)(r.Fragment,null,Object(r.createElement)("p",null,Object(n.__)("Use this block to show or hide the content in the block based on which Laterpay product the user has purchased.","laterpay")),Object(r.createElement)("p",null,Object(n.__)("IMPORTANT: This should not be used to hide the content you would like behind the paywall. That will be done automatically once you have set a price for this article.","laterpay")));Object(l.registerBlockType)("laterpay/dynamic-access",{title:Object(n.__)("Laterpay Dynamic Access","laterpay"),icon:c.dynamicAccess,category:"laterpay-blocks",description:T,keywords:[Object(n.__)("Time Pass Access","laterpay"),Object(n.__)("Subscription Access","laterpay")],attributes:{accessBehaviour:{type:"string",default:"show"},purchaseRequirement:{type:"string",default:"any"},content:{type:"string"},timePassSelectionType:{type:"string",default:"none"},timePassIds:{type:"string"},subscriptionSelectionType:{type:"string"},subscriptionIds:{type:"string"}},edit:E,save:function(){return null}});var w=a(10),x=a.n(w);function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=_()(e);if(t){var l=_()(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return y()(this,a)}}var N=["application/zip","application/x-rar-compressed","application/pdf","image/jpeg","image/png","image/gif","audio/vnd.wav","audio/mpeg","audio/mp4","audio/ogg","audio/aac","audio/aacp","video/mpeg","video/mp4","video/quicktime"],S=function(e){m()(a,e);var t=P(a);function a(){return u()(this,a),t.apply(this,arguments)}return p()(a,[{key:"fetchMediaPrice",value:function(e){var t=this.props.setAttributes;e&&x()({path:"/laterpay/v1/media-price?media_id="+e}).then((function(e){t({mediaPrice:e.price})}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.attributes,l=a.mediaID,o=a.mediaIcon,c=a.mediaName,i=a.mediaHeading,u=a.mediaDescription,s=a.mediaType,p=a.mediaTeaserID,b=a.mediaTeaserImage,m=a.mediaPrice,d=t.setAttributes,y=t.className;this.fetchMediaPrice(l);var f=Object(r.createElement)(O.InspectorControls,null,Object(r.createElement)(v.PanelBody,{title:Object(n.__)("Premium Download Box Settings","laterpay")},Object(r.createElement)(O.MediaUploadCheck,null,Object(r.createElement)(O.MediaUpload,{onSelect:function(t){e.fetchMediaPrice(t.id),d({mediaID:t.id,mediaIcon:"image"===t.type?t.sizes.thumbnail.url:"",mediaName:t.filename})},allowedTypes:N,value:l,render:function(e){var t=e.open;return Object(r.createElement)(v.Button,{onClick:t,className:"is-button is-default is-large"},Object(n.__)("Select Downloadable Media","laterpay"))}})),o&&Object(r.createElement)(v.ResponsiveWrapper,{naturalWidth:150,naturalHeight:150},Object(r.createElement)("img",{src:o,alt:"",className:"lp-premium-preview-img"})),c&&Object(r.createElement)("span",{className:"lp-premium-preview-info"},Object(n.__)("File Name: ","laterpay")+c),m&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)("span",{className:"lp_current-price"},Object(n.__)("Current price:","laterpay")+m),Object(r.createElement)("p",{className:"lp_price-info"},Object(n.__)("To adjust this price, navigate to the edit media page and configure the price.","laterpay"))),Object(r.createElement)(v.TextControl,{label:Object(n.__)("Heading text","laterpay"),help:Object(n.__)("Enter heading text for download box.","laterpay"),value:i,onChange:function(e){return d({mediaHeading:e})}}),Object(r.createElement)(v.TextControl,{label:Object(n.__)("Description text","laterpay"),help:Object(n.__)("Enter description text for download box.","laterpay"),value:u,onChange:function(e){return d({mediaDescription:e})}}),Object(r.createElement)(v.SelectControl,{label:Object(n.__)("Content Type","laterpay"),value:s,options:[{value:"auto",label:Object(n.__)("Auto Identify","laterpay")},{value:"audio",label:Object(n.__)("Audio","laterpay")},{value:"file",label:Object(n.__)("File","laterpay")},{value:"gallery",label:Object(n.__)("Gallery","laterpay")},{value:"link",label:Object(n.__)("Link","laterpay")},{value:"text",label:Object(n.__)("Text","laterpay")},{value:"video",label:Object(n.__)("Video","laterpay")}],onChange:function(e){return d({mediaType:e})}}),"link"!==s&&Object(r.createElement)(O.MediaUploadCheck,null,Object(r.createElement)(O.MediaUpload,{onSelect:function(e){d({mediaTeaserID:e.id,mediaTeaserImage:e.url})},allowedTypes:["image"],value:p,render:function(e){var t=e.open;return Object(r.createElement)(v.Button,{onClick:t,className:"is-button is-default is-large"},Object(n.__)("Select Teaser Image","laterpay"))}})),"link"!==s&&b&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)(v.ResponsiveWrapper,{naturalWidth:150,naturalHeight:150},Object(r.createElement)("img",{src:b,alt:"",className:"lp-premium-preview-img"})),Object(r.createElement)(v.Button,{onClick:function(){d({mediaTeaserID:"",mediaTeaserImage:""})},className:"is-button is-default is-large"},Object(n.__)("Clear Teaser Image","laterpay"))))),_=p?{backgroundImage:"url(".concat(b,")")}:{},j=p&&"auto"!==s?"":"lp_is-".concat(s),h=i||Object(n.__)("Additional Premium Content","laterpay"),g=u?Object(n.sprintf)("%s - %s",h,u):h;return[f,"link"!==s?Object(r.createElement)("div",{className:[y,"lp_js_premium-file-box lp_premium-file-box",j].join(" "),style:_},Object(r.createElement)("div",{className:"lp_premium-file-box__details"},Object(r.createElement)("h3",{className:"lp_premium-file-box__title"},i||Object(n.__)("Additional Premium Content","laterpay")),Object(r.createElement)("p",{className:"lp_premium-file-box__text"},u))):Object(r.createElement)("button",{className:"lp_js_premium-file-box lp_premium_link lp_premium_link_anchor",title:Object(n.__)("Buy now with Laterpay","laterpay")},g)]}}]),a}(r.Component);Object(l.registerBlockType)("laterpay/premium-download-box",{title:Object(n.__)("Laterpay Premium Download Box","laterpay"),icon:c.premiumBox,category:"laterpay-blocks",keywords:[Object(n.__)("Premium Download Box","laterpay")],attributes:{mediaID:{type:"integer",default:0},mediaIcon:{type:"string"},mediaName:{type:"string"},mediaHeading:{type:"string",default:Object(n.__)("Additional Premium Content","laterpay")},mediaDescription:{type:"string"},mediaType:{type:"string",default:"auto"},mediaTeaserID:{type:"integer",default:0},mediaTeaserImage:{type:"string"},mediaPrice:{type:"string"}},edit:S,save:function(){return null}});var k=function(e){var t=e.isSelected?"lp-amount-preset-button-selected":"";return Object(r.createElement)("div",{className:"lp-amount-presets"},Object(r.createElement)("div",{className:"lp-amount-preset-wrapper"},Object(r.createElement)("div",{className:["lp-amount-preset-button",t].join(" ")},e.amount)))};function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=_()(e);if(t){var l=_()(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return y()(this,a)}}var A=function(e){m()(a,e);var t=D(a);function a(){return u()(this,a),t.apply(this,arguments)}return p()(a,[{key:"render",value:function(){var e="undefined"!=typeof laterPayBlockData?laterPayBlockData.currency:{},t="undefined"!=typeof laterPayBlockData?laterPayBlockData.locale:"",a="undefined"!=typeof laterPayBlockData?laterPayBlockData.symbol:"$",l=this.props,o=l.attributes,c=o.campaignName,i=o.dialogHeader,u=o.dialogDescription,s=o.campaignThankYouPage,p=o.contributionType,b=o.allowCustomAmount,m=o.singleContribution,d=o.multipleContribution,y=o.selectedAmount,f=l.setAttributes,_=l.className,j=function(a){return a=a.replace(/[^0-9\,\.]/g,""),a=parseFloat(a.replace(",",".")).toFixed(2),isNaN(a)&&(a=0),(a=Math.abs(a))>e.sis_max?a=e.sis_max:a>0&&a<e.ppu_min&&(a=e.ppu_min),a=a.toFixed(2),-1!==t.indexOf("de_DE")&&(a=a.replace(".",",")),a},h=function(t){var a={};return 0===Math.abs(t)||t<=e.ppu_only_limit||t>=e.ppu_min&&t<e.ppu_max?a={revenue:"ppu",disable:!0}:t>=e.ppu_max&&(a={revenue:"sis",disable:!0}),t>=e.sis_min&&t<e.sis_only_limit&&(a={revenue:"ppu",disable:!1}),a},C=function(e,t){var a,n,l;switch(t){case 1:a={amountOne:e,revenueOne:(l=h(e,d.revenueOne)).revenue,revenueDisableOne:l.disable},n=Object.assign({},d,a),f({multipleContribution:n});break;case 2:a={amountTwo:e,revenueTwo:(l=h(e,d.revenueTwo)).revenue,revenueDisableTwo:l.disable},n=Object.assign({},d,a),f({multipleContribution:n});break;case 3:a={amountThree:e,revenueThree:(l=h(e,d.revenueThree)).revenue,revenueDisableThree:l.disable},n=Object.assign({},d,a),f({multipleContribution:n});break;case 4:a={amountFour:e,revenueFour:(l=h(e,d.revenueFour)).revenue,revenueDisableFour:l.disable},n=Object.assign({},d,a),f({multipleContribution:n});break;case 5:a={amountFive:e,revenueFive:(l=h(e,d.revenueFive)).revenue,revenueDisableFive:l.disable},n=Object.assign({},d,a),f({multipleContribution:n})}},E=function(e,t){var a,n;switch(t){case 1:a={revenueOne:e},n=Object.assign({},d,a),f({multipleContribution:n});break;case 2:a={revenueTwo:e},n=Object.assign({},d,a),f({multipleContribution:n});break;case 3:a={revenueThree:e},n=Object.assign({},d,a),f({multipleContribution:n});break;case 4:a={revenueFour:e},n=Object.assign({},d,a),f({multipleContribution:n});break;case 5:a={revenueFive:e},n=Object.assign({},d,a),f({multipleContribution:n})}},T=Object(r.createElement)(O.InspectorControls,null,Object(r.createElement)(v.PanelBody,{title:Object(n.__)("Contribution Settings","laterpay")},Object(r.createElement)(v.TextControl,{label:Object(n.__)("Campaign Name","laterpay"),help:Object(n.__)("Enter Campaign name.","laterpay"),value:c,onChange:function(e){return f({campaignName:e})}}),!c&&g("error",Object(n.__)("Please enter a Campaign Name above.","laterpay")),Object(r.createElement)(v.TextControl,{label:Object(n.__)("Thank you page (optional)","laterpay"),help:Object(n.__)("Enter Thank you page.","laterpay"),value:s,onChange:function(e){return f({campaignThankYouPage:e})}}),Object(r.createElement)(v.SelectControl,{label:Object(n.__)("Contribution Type","laterpay"),value:p,options:[{value:"multiple",label:Object(n.__)("Multiple","laterpay")},{value:"single",label:Object(n.__)("Single","laterpay")}],onChange:function(e){return f({contributionType:e})}}),"multiple"===p?Object(r.createElement)(r.Fragment,null,Object(r.createElement)(v.TextControl,{label:Object(n.__)("Dialog Header (optional)","laterpay"),placeholder:Object(n.__)("Support the author","laterpay"),value:i,onChange:function(e){f({dialogHeader:e})}}),Object(r.createElement)(v.TextControl,{label:Object(n.__)("Dialog Description (optional)","laterpay"),placeholder:Object(n.__)("How much would you like to contribute?","laterpay"),value:u,onChange:function(e){f({dialogDescription:e})}}),Object(r.createElement)(v.TextControl,{label:Object(n.__)("Amount One","laterpay"),placeholder:0,value:d.amountOne,onChange:function(e){C(e,1)}}),Object(r.createElement)(v.SelectControl,{label:Object(n.__)("Revenue Model","laterpay"),value:d.revenueOne,disabled:d.revenueDisableOne,options:[{value:"ppu",label:Object(n.__)("Pay Later","laterpay")},{value:"sis",label:Object(n.__)("Pay Now","laterpay")}],onChange:function(e){E(e,1)}}),Object(r.createElement)(v.TextControl,{label:Object(n.__)("Amount Two","laterpay"),placeholder:0,value:d.amountTwo,onChange:function(e){C(e,2)}}),Object(r.createElement)(v.SelectControl,{label:Object(n.__)("Revenue Model","laterpay"),value:d.revenueTwo,disabled:d.revenueDisableTwo,options:[{value:"ppu",label:Object(n.__)("Pay Later","laterpay")},{value:"sis",label:Object(n.__)("Pay Now","laterpay")}],onChange:function(e){E(e,2)}}),Object(r.createElement)(v.TextControl,{label:Object(n.__)("Amount Three","laterpay"),placeholder:0,value:d.amountThree,onChange:function(e){C(e,3)}}),Object(r.createElement)(v.SelectControl,{label:Object(n.__)("Revenue Model","laterpay"),value:d.revenueThree,disabled:d.revenueDisableThree,options:[{value:"ppu",label:Object(n.__)("Pay Later","laterpay")},{value:"sis",label:Object(n.__)("Pay Now","laterpay")}],onChange:function(e){E(e,3)}}),Object(r.createElement)(v.TextControl,{label:Object(n.__)("Amount Four","laterpay"),placeholder:0,value:d.amountFour,onChange:function(e){C(e,4)}}),Object(r.createElement)(v.SelectControl,{label:Object(n.__)("Revenue Model","laterpay"),value:d.revenueFour,disabled:d.revenueDisableFour,options:[{value:"ppu",label:Object(n.__)("Pay Later","laterpay")},{value:"sis",label:Object(n.__)("Pay Now","laterpay")}],onChange:function(e){E(e,4)}}),Object(r.createElement)(v.TextControl,{label:Object(n.__)("Amount Five","laterpay"),placeholder:0,value:d.amountFive,onChange:function(e){C(e,5)}}),Object(r.createElement)(v.SelectControl,{label:Object(n.__)("Revenue Model","laterpay"),value:d.revenueFive,disabled:d.revenueDisableFive,options:[{value:"ppu",label:Object(n.__)("Pay Later","laterpay")},{value:"sis",label:Object(n.__)("Pay Now","laterpay")}],onChange:function(e){E(e,5)}}),Object(r.createElement)(v.SelectControl,{label:Object(n.__)("Default Selected Amount","laterpay"),value:y,options:[{value:1,label:Object(n.__)("Amount One","laterpay")},{value:2,label:Object(n.__)("Amount Two","laterpay")},{value:3,label:Object(n.__)("Amount Three","laterpay")},{value:4,label:Object(n.__)("Amount Four","laterpay")},{value:5,label:Object(n.__)("Amount Five","laterpay")}],onChange:function(e){f({selectedAmount:parseInt(e)})}}),Object(r.createElement)(v.CheckboxControl,{heading:Object(n.__)(" Allow custom contribution amount","laterpay"),label:Object(n.__)("Check to allow custom contribution","laterpay"),checked:b,onChange:function(e){return f({allowCustomAmount:e})}})):Object(r.createElement)(r.Fragment,null,Object(r.createElement)(v.TextControl,{label:Object(n.__)("Amount","laterpay"),help:Object(n.__)("Enter Contribution amount.","laterpay"),placeholder:0,value:m.amount,onChange:function(e){var t,a;a=h(t=e,m.revenue),f({singleContribution:{amount:t,revenue:a.revenue,revenueDisable:a.disable}})}}),Object(r.createElement)(v.SelectControl,{label:Object(n.__)("Revenue Model","laterpay"),value:m.revenue,disabled:m.revenueDisable,options:[{value:"ppu",label:Object(n.__)("Pay Later","laterpay")},{value:"sis",label:Object(n.__)("Pay Now","laterpay")}],onChange:function(e){return f({singleContribution:{amount:m.amount,revenue:e,revenueDisable:m.revenueDisable}})}})))),w=j(m.amount),x="ppu"===m.revenue?Object(n.sprintf)("%s %s%s %s",Object(n.__)("Contribute","laterpay"),a,w,Object(n.__)("now, Pay Later","laterpay")):Object(n.sprintf)("%s %s%s %s",Object(n.__)("Contribute","laterpay"),a,w,Object(n.__)("now","laterpay")),P=parseInt(y);return[T,Object(r.createElement)("div",{className:_},"multiple"===p?Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"lp-multiple-wrapper"},Object(r.createElement)("div",{className:"lp-dialog-wrapper"},Object(r.createElement)("div",{className:"lp-dialog"},Object(r.createElement)("div",{className:"lp-header-wrapper"},Object(r.createElement)("div",{className:"lp-header-padding"}),Object(r.createElement)("div",{className:"lp-header-text"},Object(r.createElement)("span",null,i))),Object(r.createElement)("div",{className:"lp-body-wrapper"},Object(r.createElement)("div",null,Object(r.createElement)("span",{className:"lp-amount-text"},u)),Object(r.createElement)("div",{className:"lp-amount-presets-wrapper"},d.amountOne&&Object(r.createElement)(k,{amount:a+j(d.amountOne),isSelected:1===P}),d.amountTwo&&Object(r.createElement)(k,{amount:a+j(d.amountTwo),isSelected:2===P}),d.amountThree&&Object(r.createElement)(k,{amount:a+j(d.amountThree),isSelected:3===P}),"0.00"!==d.amountFour&&"0"!==d.amountFour&&d.amountFour&&Object(r.createElement)(k,{amount:a+j(d.amountFour),isSelected:4===P}),"0.00"!==d.amountFive&&"0"!==d.amountFive&&d.amountFive&&Object(r.createElement)(k,{amount:a+j(d.amountFive),isSelected:5===P})),!0===b&&Object(r.createElement)("div",{className:"lp-custom-amount-wrapper"},Object(r.createElement)("div",{className:"lp-custom-amount"},Object(r.createElement)("label",{htmlFor:"lp_custom_amount_input",className:"lp-custom-amount-label"},Object(r.createElement)("span",{className:"lp-custom-amount-text"},Object(n.__)("Custom Amount","laterpay"),":")),Object(r.createElement)("div",{className:"lp-custom-input-wrapper"},Object(r.createElement)("input",{className:"lp-custom-amount-input",type:"text",disabled:"disabled"}),Object(r.createElement)("i",null,a)))),Object(r.createElement)("div",{className:"lp-dialog-button-wrapper"},Object(r.createElement)("div",{className:"lp-button-wrapper"},Object(r.createElement)("div",{"data-url":"",className:"lp-button lp-contribution-button"},Object(r.createElement)("div",{className:"lp-cart"}),Object(r.createElement)("div",{className:"lp-link"},Object(n.__)("Contribute now","laterpay")))))),Object(r.createElement)("div",{className:"lp-powered-by"},Object(r.createElement)("span",null,Object(n.__)("Powered by","laterpay")),Object(r.createElement)("span",{"data-icon":"a",className:"lp-powered-by-link"})))))):Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"lp-dialog-single-button-wrapper"},Object(r.createElement)("div",{className:"lp-button-wrapper"},Object(r.createElement)("div",{className:"lp-button"},Object(r.createElement)("div",{className:"lp-cart"}),Object(r.createElement)("div",{className:"lp-link lp-link-single"},x))))))]}}]),a}(r.Component);Object(l.registerBlockType)("laterpay/contribution",{title:Object(n.__)("Laterpay Contribution","laterpay"),icon:c.heart,category:"laterpay-blocks",keywords:[Object(n.__)("Contribution","laterpay")],attributes:{campaignName:{type:"string"},dialogHeader:{type:"string",default:Object(n.__)("Support the author","laterpay")},dialogDescription:{type:"string",default:Object(n.__)("How much would you like to contribute?","laterpay")},campaignThankYouPage:{type:"string"},contributionType:{type:"string",default:"multiple"},allowCustomAmount:{type:"boolean",default:!0},singleContribution:{type:"object",default:{amount:"0.00",revenue:"ppu",revenueDisable:!0}},multipleContribution:{type:"object",default:{amountOne:"1.00",revenueOne:"ppu",revenueDisableOne:!0,amountTwo:"2.00",revenueTwo:"ppu",revenueDisableTwo:!0,amountThree:"5.00",revenueThree:"sis",revenueDisableThree:!0,amountFour:"0.00",revenueFour:"ppu",revenueDisableFour:!0,amountFive:"0.00",revenueFive:"ppu",revenueDisableFive:!0}},selectedAmount:{type:"integer",default:3}},edit:A,save:function(){return null}})}]);